<html>
<head>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<!--<script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>-->
<!--<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>-->
<script type="text/babel">
  'use strict';

  const GuGuDan = () => {
    const [first, setFirst] = React.useState(Math.ceil(Math.random() * 9));
    const [second, setSecond] = React.useState(Math.ceil(Math.random() * 9));
    const [value, setValue] = React.useState('');
    const [result, setResult] = React.useState('');
    const inputRef = React.useRef(null); 
    // classì—ì„œëŠ” this.inputìœ¼ë¡œ DOMì— ì ‘ê·¼ 
    // í•¨ìˆ˜ì—ì„œëŠ” useRefë¡œ DOMì— ì ‘ê·¼ ëŒ€ì‹  currentë¥¼ ì¶”ê°€í•˜ì—¬ ì ‘ê·¼

    const onChangeInput =(e) => {
        setValue(e.target.vale);
    }

    const onSubmitForm = (e) => {
        e.preventDefault();
        if(parseInt(value) === first * second){
            // setResult((prevResult) => { return 'ì •ë‹µ: '+ value}); ì˜›ë‚  Resultë¥¼ ì“°ëŠ” ê²½ìš° ì´ë ‡ê²Œ ì‚¬ìš© ê°€ëŠ¥
            setResult('ì •ë‹µ: '+ value);
            setFirst(Math.ceil(Math.random() * 9));
            // setCounter((c) => c+1); ì˜›ë‚  ê°’ì— 1ì„ ë”í•˜ëŠ” ê²½ìš° ì´ë ‡ê²Œ í•´ì¤˜ì•¼ state ë¹„ë™ê¸° ë¬¸ì œê°€ ë°œìƒ ì•ˆí•œë‹¤.
            setSecond(Math.ceil(Math.random() * 9));
            setValue('');
            // ìœ„ì—ì„œ setState 4ë²ˆ ì—°ë‹¬ì•„ ì¼ì–´ë‚˜ëŠ” ê±° ì•„ë‹ˆëƒ ??
            // ì´ê²ƒì„ reactê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•´ì¤€ë‹¤. ê·¸ë˜ì„œ ìœ„ì˜ stateë³€ê²½ ì½”ë“œë“¤ì€ ë¹„ë™ê¸° ì½”ë“œì´ë‹¤. setStateë¥¼ ëª¨ì•„ì„œ í•œë²ˆì— ì²˜ë¦¬
            inputRef.current.focus(); // í•¨ìˆ˜ ì»´í¬ë„ˆíŠ¸ì—ì„œëŠ” inputì´ ì•„ë‹Œ current.focus(); ì‚¬ìš©
        } else {
            setResult('ë•¡');
            setValue('');
            inputRef.current.focus(); 
        }
    }

    console.log('ë Œë”ë§'); // stateê°€ ë°”ë€Œë©´ "í•¨ìˆ˜ ìì²´"ê°€ í†µì§¸ë¡œ ë‹¤ì‹œ ì‹¤í–‰ëœë‹¤, classì—ì„œëŠ” render ë¶€ë¶„ë§Œ ì¬ì‹¤í–‰
    return (
        <React.Fragment>
            <div>{first} ê³±í•˜ê¸° {second}ëŠ”?</div>
            <form onSubmit={onSubmitForm}>
                <input ref={inputRef} type="number" value={value} onChange={onChangeInput} />
                <button>ì…ë ¥ !</button>    
            </form>      
            <div  id="result">{result}</div>
        </React.Fragment>
    );
   }
    // Hooks
    // setStateì™€ refë¥¼ ì“°ì§€ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„±í–ˆì—ˆë‹¤.
    // í•˜ì§€ë§Œ ì‚¬ëŒë“¤ì´ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ stateì™€ ref ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì¤Œ.
 

</script>
<script type="text/babel">
    ReactDOM.createRoot(document.querySelector('#root')).render(<GuGuDan />);
    // êµ¬êµ¬ë‹¨ ì›¹íŒ©ìœ¼ë¡œ ë¹Œë“œí•˜ê¸° ğŸŸ¢
    // ì‹œì‘: npm init
    // package, name, license: MIT ì„¤ì •
    // npm i react react-dom
    // npm i -D webpack webpack-cli
    // npm i -D @babel/core @babel/preset-env: preset-envì•Œì•„ì„œ í™˜ê²½ì— ë§ê²Œ ì˜›ë¸Œë¼ìš°ì €ë¼ë„ ì•Œì•„ì„œ í™˜ê²½ì— ë§ê²Œ ë°”ë²¨ë¡œ ë§ì¶°ì¤€ë‹¤.
    // npm i -D @babel/preset-react babel-loader: preset-react jsxì‚¬ìš©ê°€ëŠ¥
    // webpack.config.js íŒŒì¼ ìƒì„± í›„ module ì„¤ì •
    // ê¸°ì¡´ íŒŒì¼ client.jsx, GuGuDan.jsxë¡œ ë‚˜ëˆ„ê¸°
    // npm i react-refresh @pmmmwh/react-refresh-webpack-plugin -D 
    // npm i -D webpack-dev-server ê°œë°œìš© ì„œë²„ ì„¤ì¹˜í•´ì¤˜ì•¼
</script>
</body>
</html>